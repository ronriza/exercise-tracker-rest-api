(this.webpackJsonpreact_exercise=this.webpackJsonpreact_exercise||[]).push([[0],{66:function(e,t,a){},68:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(30),s=a.n(r),i=(a(66),a(8)),j=(a(67),a(68),a(27)),o=a(11),l=a(54);a(69);try{l.a.initializeApp({apiKey:"AIzaSyDHZODaQPsJIK2tfqHuSZ0-tH5oxozyUnA",authDomain:"exercise-tracker-effea.firebaseapp.com",projectId:"exercise-tracker-effea",storageBucket:"exercise-tracker-effea.appspot.com",messagingSenderId:"979502751935",appId:"1:979502751935:web:ddffa1f92fa5248e0ea60a"})}catch(R){console.error("Firebase initialization error",R.stack)}var d=l.a,b=a(19),u=a.n(b),h=a(31),x=a(61),O=a(34),m=a(1);var f=function(e){var t=e.exercise,a=e.onEdit,c=e.onDelete;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:t.name}),Object(m.jsx)("td",{children:t.reps}),Object(m.jsx)("td",{children:t.sets}),Object(m.jsx)("td",{children:"".concat("lbs"===t.unit?t.weight:Math.round(.45359237*t.weight)," ").concat(t.unit)}),Object(m.jsx)("td",{children:"".concat(String(t.date.getUTCMonth()+1).padStart(2,"0"),"-").concat(String(t.date.getUTCDate()).padStart(2,"0"),"-").concat(String(t.date.getUTCFullYear()).slice(2))}),Object(m.jsx)("td",{className:"text-center",children:Object(m.jsx)(O.b,{class:"clickable",onClick:function(){a(t)}})}),Object(m.jsx)("td",{className:"text-center",children:Object(m.jsx)(O.a,{class:"clickable",onClick:function(){c(t._id)}})})]})})},p=a(42),g=a(58),v=a(21),C=a(28),N=a(22);var k=function(e){var t=e.id,a=e.sortCriteria;return a.field===t?"ascending"===a.direction?Object(m.jsx)(O.d,{}):Object(m.jsx)(O.c,{}):Object(m.jsx)(O.c,{className:"hidden"})};var y=function(e){var t=e.exercises,a=e.onEdit,n=e.onDelete,r=Object(c.useState)({field:"date",direction:"descending"}),s=Object(i.a)(r,2),j=s[0],o=s[1],l=Object(x.a)(t);l.sort((function(e,t){return e[j.field]<t[j.field]?"ascending"===j.direction?-1:1:e[j.field]>t[j.field]?"ascending"===j.direction?1:-1:e.date>t.date?-1:1}));var d=function(e){var t="descending";j.field===e&&"descending"===j.direction&&(t="ascending"),o({field:e,direction:t})};return t.length>0?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(v.a,{children:Object(m.jsx)(C.a,{children:Object(m.jsxs)(N.a,{className:"mt-3",children:[Object(m.jsx)("h3",{className:"text-center",children:"Exercise List"}),Object(m.jsxs)(g.a,{responsive:!0,striped:!0,hover:!0,className:"mt-3",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsxs)("th",{className:"clickable",id:"name",onClick:function(){return d("name")},children:["Name  ",Object(m.jsx)(k,{id:"name",sortCriteria:j})]}),Object(m.jsxs)("th",{className:"clickable",id:"reps",onClick:function(){return d("reps")},children:["Reps  ",Object(m.jsx)(k,{id:"reps",sortCriteria:j})]}),Object(m.jsxs)("th",{className:"clickable",id:"sets",onClick:function(){return d("sets")},children:["Sets  ",Object(m.jsx)(k,{id:"sets",sortCriteria:j})]}),Object(m.jsxs)("th",{className:"clickable",id:"weight",onClick:function(){return d("weight")},children:["Weight  ",Object(m.jsx)(k,{id:"weight",sortCriteria:j})]}),Object(m.jsxs)("th",{className:"clickable",id:"date",onClick:function(){return d("date")},children:["Date  ",Object(m.jsx)(k,{id:"date",sortCriteria:j})]}),Object(m.jsx)("th",{className:"text-center",children:"Edit"}),Object(m.jsx)("th",{className:"text-center",children:"Delete"})]})}),Object(m.jsx)("tbody",{children:l.map((function(e,t){return Object(m.jsx)(f,{exercise:e,onEdit:a,onDelete:n},t)}))})]})]})})})}):Object(m.jsx)(v.a,{children:Object(m.jsx)(C.a,{children:Object(m.jsxs)(N.a,{className:"mt-3",children:[Object(m.jsx)("h3",{className:"text-center",children:"Exercise List"}),Object(m.jsx)(p.a,{variant:"info",className:"text-center",children:"No exercises to display"})]})})})};var S=function(){return Object(m.jsx)("div",{className:"text-center mt-5",children:Object(m.jsxs)("div",{className:"lds-ring ",children:[Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{})]})})};var E=function(e){var t=e.setExerciseToEdit,a=e.user,n=Object(o.f)(),r=Object(c.useState)([]),s=Object(i.a)(r,2),j=s[0],l=s[1],d=Object(c.useState)(!1),b=Object(i.a)(d,2),x=b[0],O=b[1],f=function(){var e=Object(h.a)(u.a.mark((function e(t){var c,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getIdToken();case 2:return c=e.sent,e.next=5,fetch("/exercises/".concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(c)}});case 5:204===(n=e.sent).status?g(a):(r=n.json(),alert(r.error));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(h.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(a),n.push("/Edit");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(h.a)(u.a.mark((function e(t){var a,c,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,t.getIdToken();case 3:return a=e.sent,e.next=6,fetch("/exercises/",{headers:{Authorization:"Bearer ".concat(a)}});case 6:if(200!==(c=e.sent).status){e.next=15;break}return e.next=10,c.json();case 10:(n=e.sent).forEach((function(e){e.date=new Date(e.date)})),l(n),e.next=19;break;case 15:return e.next=17,c.json();case 17:r=e.sent,alert(r.error);case 19:O(!1);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){g(a)}),[a]),x?Object(m.jsx)(S,{}):Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(y,{exercises:j,onEdit:p,onDelete:f})})},w=a(5),L=a(32),I=a(17);var T=function(e){var t=e.exerciseToEdit,a=e.user,n=Object(o.f)(),r=Object(c.useState)(t.name),s=Object(i.a)(r,2),j=s[0],l=s[1],d=Object(c.useState)(t.reps),b=Object(i.a)(d,2),x=b[0],O=b[1],f=Object(c.useState)(t.sets),p=Object(i.a)(f,2),g=p[0],k=p[1],y="lbs"===t.unit?t.weight:Math.round(.45359237*t.weight),S=Object(c.useState)(y),E=Object(i.a)(S,2),T=E[0],D=E[1],A=Object(c.useState)(t.unit),G=Object(i.a)(A,2),B=G[0],F=G[1],P=Object(c.useState)("".concat(String(t.date.getUTCMonth()+1).padStart(2,"0"),"-").concat(String(t.date.getUTCDate()).padStart(2,"0"),"-").concat(String(t.date.getUTCFullYear()).slice(2))),U=Object(i.a)(P,2),R=U[0],z=U[1],M=function(){var e=Object(h.a)(u.a.mark((function e(){var c,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getIdToken();case 2:return c=e.sent,e.next=5,fetch("/exercises/".concat(t._id),{method:"PUT",body:JSON.stringify({name:j,reps:x,sets:g,weight:T,unit:B,date:R}),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}});case 5:if(200!==(r=e.sent).status){e.next=10;break}alert("Successfully edited the exercise!"),e.next=14;break;case 10:return e.next=12,r.json();case 12:s=e.sent,alert(s.error);case 14:n.push("/");case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(v.a,{className:"mt-5",children:Object(m.jsx)(C.a,{className:"justify-content-center",children:Object(m.jsx)(N.a,{md:6,className:"mb-5",children:Object(m.jsx)(I.a,{className:"shadow",children:Object(m.jsxs)(I.a.Body,{children:[Object(m.jsx)(I.a.Title,{children:"Edit Exercise"}),Object(m.jsxs)(w.a,{children:[Object(m.jsxs)(w.a.Group,{className:"mb-3",controlId:"formExerciseName",children:[Object(m.jsx)(w.a.Label,{children:"Exercise Name"}),Object(m.jsx)(w.a.Control,{type:"text",value:j,onChange:function(e){var t=e.target;return l(t.value)}})]}),Object(m.jsxs)(w.a.Group,{className:"mb-3",controlId:"formReps",children:[Object(m.jsx)(w.a.Label,{children:"Number of Reps"}),Object(m.jsx)(w.a.Control,{type:"number",value:x,onChange:function(e){var t=e.target;return O(t.value)}})]}),Object(m.jsxs)(w.a.Group,{className:"mb-3",controlId:"formSets",children:[Object(m.jsx)(w.a.Label,{children:"Number of Sets"}),Object(m.jsx)(w.a.Control,{type:"number",value:g,onChange:function(e){var t=e.target;return k(t.value)}})]}),Object(m.jsxs)(w.a.Group,{className:"mb-1",controlId:"formWeight",children:[Object(m.jsx)(w.a.Label,{children:"Weight"}),Object(m.jsx)(w.a.Control,{type:"number",value:T,onChange:function(e){var t=e.target;return D(t.value)}})]}),Object(m.jsxs)(w.a.Group,{className:"mb-3",children:[Object(m.jsx)(w.a.Check,{inline:!0,checked:"lbs"===B,label:"lbs",name:"unit",type:"radio",id:"lbs",onChange:function(){return F("lbs")}}),Object(m.jsx)(w.a.Check,{inline:!0,checked:"kgs"===B,label:"kgs",name:"unit",type:"radio",id:"kgs",onChange:function(){return F("kgs")}})]}),Object(m.jsxs)(w.a.Group,{className:"mb-3",controlId:"formDate",children:[Object(m.jsx)(w.a.Label,{children:"Date"}),Object(m.jsx)(w.a.Control,{type:"test",value:R,onChange:function(e){var t=e.target;return z(t.value)}})]}),Object(m.jsx)(L.a,{variant:"primary",onClick:M,children:"Submit"})]})]})})})})})})};var D=function(e){var t=e.user,a=Object(o.f)(),n=Object(c.useState)(""),r=Object(i.a)(n,2),s=r[0],j=r[1],l=Object(c.useState)(""),d=Object(i.a)(l,2),b=d[0],x=d[1],O=Object(c.useState)(""),f=Object(i.a)(O,2),p=f[0],g=f[1],k=Object(c.useState)(""),y=Object(i.a)(k,2),S=y[0],E=y[1],T=Object(c.useState)("lbs"),D=Object(i.a)(T,2),A=D[0],G=D[1],B=Object(c.useState)(""),F=Object(i.a)(B,2),P=F[0],U=F[1],R=function(){var e=Object(h.a)(u.a.mark((function e(){var c,n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={name:s,reps:b,sets:p,weight:S,unit:A,date:P},e.next=3,t.getIdToken();case 3:return n=e.sent,e.next=6,fetch("/exercises",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 6:if(201!==(r=e.sent).status){e.next=11;break}alert("Successfully added the exercise!"),e.next=15;break;case 11:return e.next=13,r.json();case 13:i=e.sent,alert(i.error);case 15:a.push("/");case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(v.a,{className:"mt-5",children:Object(m.jsx)(C.a,{className:"justify-content-center",children:Object(m.jsx)(N.a,{md:6,className:"mb-5",children:Object(m.jsx)(I.a,{className:"shadow",children:Object(m.jsxs)(I.a.Body,{children:[Object(m.jsx)(I.a.Title,{children:"New Exercise"}),Object(m.jsxs)(w.a,{children:[Object(m.jsxs)(w.a.Group,{className:"mb-3",controlId:"formExerciseName",children:[Object(m.jsx)(w.a.Label,{children:"Exercise Name"}),Object(m.jsx)(w.a.Control,{type:"text",onChange:function(e){var t=e.target;return j(t.value)}})]}),Object(m.jsxs)(w.a.Group,{className:"mb-3",controlId:"formReps",children:[Object(m.jsx)(w.a.Label,{children:"Number of Reps"}),Object(m.jsx)(w.a.Control,{type:"number",onChange:function(e){var t=e.target;return x(t.value)}})]}),Object(m.jsxs)(w.a.Group,{className:"mb-3",controlId:"formSets",children:[Object(m.jsx)(w.a.Label,{children:"Number of Sets"}),Object(m.jsx)(w.a.Control,{type:"number",onChange:function(e){var t=e.target;return g(t.value)}})]}),Object(m.jsxs)(w.a.Group,{className:"mb-1",controlId:"formWeight",children:[Object(m.jsx)(w.a.Label,{children:"Weight"}),Object(m.jsx)(w.a.Control,{type:"number",onChange:function(e){var t=e.target;return E(t.value)}})]}),Object(m.jsxs)(w.a.Group,{className:"mb-3",controlId:"formUnit",children:[Object(m.jsx)(w.a.Check,{inline:!0,checked:"lbs"===A,label:"lbs",name:"unit",type:"radio",id:"lbs",onChange:function(){return G("lbs")}}),Object(m.jsx)(w.a.Check,{inline:!0,checked:"kgs"===A,label:"kgs",name:"unit",type:"radio",id:"kgs",onChange:function(){return G("kgs")}})]}),Object(m.jsxs)(w.a.Group,{className:"mb-3",controlId:"formDate",children:[Object(m.jsx)(w.a.Label,{children:"Date"}),Object(m.jsx)(w.a.Control,{type:"test",placeholder:"MM-DD-YY",onChange:function(e){var t=e.target;return U(t.value)}})]}),Object(m.jsx)(L.a,{variant:"primary",onClick:R,children:"Submit"})]})]})})})})})})};var A=function(){var e=Object(c.useState)(),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(),s=Object(i.a)(r,2),j=s[0],o=s[1],l=Object(c.useState)(!1),b=Object(i.a)(l,2),u=b[0],h=b[1],x=Object(c.useState)(!1),O=Object(i.a)(x,2),f=O[0],g=O[1];return Object(m.jsx)("div",{className:"home pt-5",children:Object(m.jsx)(v.a,{children:Object(m.jsxs)(C.a,{className:"justify-content-center",children:[Object(m.jsx)(N.a,{md:!0,className:"mb-5",children:Object(m.jsx)(I.a,{className:"shadow",children:Object(m.jsxs)(I.a.Body,{children:[u&&Object(m.jsx)(p.a,{variant:"danger",children:"Log in Failed"}),Object(m.jsx)(I.a.Title,{children:"Log In"}),Object(m.jsxs)(w.a,{onSubmit:function(e){e.preventDefault(),d.auth().signInWithEmailAndPassword(a,j).catch((function(e){h(!0)}))},children:[Object(m.jsxs)(w.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(m.jsx)(w.a.Label,{children:"Email address"}),Object(m.jsx)(w.a.Control,{type:"email",placeholder:"Enter email",onChange:function(e){var t=e.target;return n(t.value)}})]}),Object(m.jsxs)(w.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(m.jsx)(w.a.Label,{children:"Password"}),Object(m.jsx)(w.a.Control,{type:"password",placeholder:"Password",onChange:function(e){var t=e.target;return o(t.value)}})]}),Object(m.jsx)(L.a,{variant:"primary",type:"submit",children:"Log in"}),Object(m.jsx)(L.a,{className:"ms-3",variant:"primary",onClick:function(e){d.auth().signInAnonymously().catch((function(e){h(!0)}))},children:"Log in Anonymously"})]})]})})}),Object(m.jsx)(N.a,{md:!0,className:"mb-5",children:Object(m.jsx)(I.a,{className:"shadow",children:Object(m.jsxs)(I.a.Body,{children:[f&&Object(m.jsx)(p.a,{variant:"danger",children:"Sign Up Failed"}),Object(m.jsx)(I.a.Title,{children:"Register"}),Object(m.jsxs)(w.a,{onSubmit:function(e){e.preventDefault(),d.auth().createUserWithEmailAndPassword(a,j).catch((function(e){g(!0)}))},children:[Object(m.jsxs)(w.a.Group,{className:"mb-3",controlId:"formRegisterEmail",children:[Object(m.jsx)(w.a.Label,{children:"Email address"}),Object(m.jsx)(w.a.Control,{type:"email",placeholder:"Enter email",onChange:function(e){var t=e.target;return n(t.value)}})]}),Object(m.jsxs)(w.a.Group,{className:"mb-3",controlId:"formRegisterPassword",children:[Object(m.jsx)(w.a.Label,{children:"Password"}),Object(m.jsx)(w.a.Control,{type:"password",placeholder:"Password",onChange:function(e){var t=e.target;return o(t.value)}})]}),Object(m.jsx)(L.a,{variant:"primary",type:"submit",children:"Register"})]})]})})})]})})})},G=a(35),B=a(39);var F=function(e){var t=e.isLoggedin,a=Object(o.f)();return t?Object(m.jsx)(G.a,{expand:"md",bg:"dark",variant:"dark",children:Object(m.jsxs)(v.a,{children:[Object(m.jsx)(G.a.Brand,{children:"Exercise Tracker"}),Object(m.jsx)(G.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(m.jsxs)(G.a.Collapse,{id:"responsive-navbar-nav",children:[Object(m.jsxs)(B.a,{className:"me-auto",children:[Object(m.jsx)(B.a.Link,{as:j.b,to:"/",children:"Exercise List"}),Object(m.jsx)(B.a.Link,{as:j.b,to:"/Create",children:"Add Exercise"})]}),Object(m.jsx)(B.a,{children:Object(m.jsx)(B.a.Link,{onClick:function(){d.auth().signOut(),a.push("/")},children:"Logout"})})]})]})}):Object(m.jsx)(G.a,{bg:"dark",variant:"dark",children:Object(m.jsx)(v.a,{children:Object(m.jsx)(G.a.Brand,{children:"Exercise Tracker"})})})};var P=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!1),s=Object(i.a)(r,2),l=s[0],b=s[1],u=Object(c.useState)(!1),h=Object(i.a)(u,2),x=h[0],O=h[1],f=Object(c.useState)(!0),p=Object(i.a)(f,2),g=p[0],v=p[1];return d.auth().onAuthStateChanged((function(e){e?(b(e),O(!0)):(O(!1),b(!1)),v(!1)})),Object(c.useEffect)((function(){setTimeout((function(){return v(!1)}),500)}),[]),g?Object(m.jsx)(S,{}):Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(j.a,{children:x?Object(m.jsxs)("header",{className:"App-header",children:[Object(m.jsx)(F,{isLoggedin:x}),Object(m.jsxs)(o.c,{children:[Object(m.jsx)(o.a,{path:"/",exact:!0,children:Object(m.jsx)(E,{user:l,setExerciseToEdit:n})}),Object(m.jsx)(o.a,{path:"/Edit",exact:!0,children:Object(m.jsx)(T,{user:l,exerciseToEdit:a})}),Object(m.jsx)(o.a,{path:"/Create",exact:!0,children:Object(m.jsx)(D,{user:l})})]})]}):Object(m.jsxs)("header",{className:"App-header",children:[Object(m.jsx)(F,{isLoggedin:x}),Object(m.jsx)(o.c,{children:Object(m.jsx)(o.a,{path:"/",exact:!0,children:Object(m.jsx)(A,{})})})]})})})},U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,84)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};s.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(P,{})}),document.getElementById("root")),U()}},[[82,1,2]]]);
//# sourceMappingURL=main.77e259bb.chunk.js.map